var orbit={};orbit.element=null;orbit.setFrame=function(a,b){if(a.curr!=b){a.curr=b;a.style.backgroundPosition="0 -"+a.curr*a.imageHeight+"px";orbit.updateFeatures(a,true)}};orbit.mouseEnter=function(a,b){orbit.updateFeatures(b,true)};orbit.mouseLeave=function(a,b){orbit.updateFeatures(b,false)};orbit.mouseDown=function(a,b){if(b.timer){clearInterval(b.timer);b.timer=null}if(b.timeout){clearTimeout(b.timeout);b.timeout=null}orbit.element=b;b.fromX=a.screenX;b.from=b.curr;b.fromTime=(new Date).getTime()};
orbit.mouseUp=function(a){if(orbit.element){orbit.element&&orbit.element!=a.target&&a.target.className!="feature"&&orbit.updateFeatures(orbit.element,false);var b=(new Date).getTime()-orbit.element.fromTime,c=(orbit.element.fromX-a.screenX)/b,f=1;if(c<0){c=-c;f=-1}var d=orbit.element.curr,e=orbit.element,g=function(){c-=0.05;d=(d+f)%e.numImages;if(d<0)d+=e.numImages;orbit.setFrame(e,d);e.timeout=c>0.1?window.setTimeout(g,Math.round(20/c)):null};if(c>0.5)e.timeout=window.setTimeout(g,Math.round(20/
c));orbit.element=null}};orbit.mouseMove=function(a){if(orbit.element){a=(orbit.element.from+Math.round((orbit.element.fromX-a.screenX)/10))%orbit.element.numImages;if(a<0)a+=orbit.element.numImages;orbit.setFrame(orbit.element,a)}};orbit.updateFeatures=function(a,b){$(a).children(".feature").each(function(){if(parseInt(this.id.split("_",2)[1],10)==a.curr&&b&&!a.timer){this.hidden=false;$(this).stop(true,false).fadeTo("fast",0.5)}else{this.hidden=true;$(this).stop(true,false).fadeTo("fast",0)}})};
$(document).ready(function(){$.browser.msie&&$("div.orbit").bind("selectstart",function(){return false});$("div.feature").tipTip({delay:0});$("div.orbit").each(function(){this.numImages=parseInt(this.id.split("_",2)[1],10);this.imageHeight=parseInt(this.style.height,10);this.curr=0});$("div.orbit_animate").each(function(){var a=this;this.timer=window.setInterval(function(){var b=(a.curr+1)%a.numImages;orbit.setFrame(a,b);if(b==0){clearInterval(a.timer);a.timer=null}},Math.round(5E3/this.numImages))});
$("div.orbit").each(function(){this.ontouchmove=function(a){a.preventDefault();a.screenX=a.touches[0].screenX;orbit.mouseMove(a);return true};this.ontouchend=function(a){a.preventDefault();a.screenX=a.touches[0].screenX;orbit.mouseUp(a);return true};this.ontouchstart=function(a){a.preventDefault();a.screenX=a.touches[0].screenX;orbit.mouseDown(a,this);return true}});$("div.orbit").mousedown(function(a){orbit.mouseDown(a,this);return true});$(document).mousemove(function(a){orbit.mouseMove(a);return true});
$(document).mouseup(function(a){orbit.mouseUp(a);return true});$(document).mousedown(function(){return orbit.element==null})});